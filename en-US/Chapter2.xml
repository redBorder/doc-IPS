<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "manual.ent">
<!ENTITY PRODUCT "Documentation">
<!ENTITY BOOKID "manual">
<!ENTITY YEAR "2022">
<!ENTITY HOLDER "Eneo Tecnología S.L. |">
]>
<chapter>
	<title>Registering the IPS/IDS sensor</title>
	<section>
		<title>Registration of the sensor in the Manager</title>
		<para>To finish the installation process of the IPS/IDS sensor, the last step consist in <emphasis role="bold">Manager sensors registration.</emphasis></para>
        <para>Until the registration is complete, a message will be displayed indicating that the sensors have not yet been registered in the Manager.</para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img030.png"/>
			</imageobject>
			<caption>
				<para>Starting sensor registration to the Manager</para>
			</caption>
	    </mediaobject>	
		<para>In the sensor registration menu we can find the following options:</para>
		<orderedlist numeration="arabic">
			<listitem>
				<para><literal>Hostname [rbsensor]:</literal> assign a sensor name.</para>
			</listitem>
			<listitem>
				<para><literal>Set local time:</literal> configure local time.</para>
			</listitem>
			<listitem>
				<para><literal>IP adress for rB Master Manager [127.0.0.1]:</literal> insert the Manager IP.</para>
			</listitem>
			<listitem>
				<para><literal>Register rB/Manager:</literal> register the sensor into the Manager.</para>
			</listitem>
            <listitem>
				<para><literal>Register to a redborder cloud:</literal> register the sensor into redborder live platform.</para>
			</listitem>
		</orderedlist>
    
        <section>
            <title>Assign sensor name (Hostname)</title>
            <para> Select the option <literal>Hostname [rbsensor]</literal> from the registration menu by pressing <keycap>1</keycap>.</para>
            <para> Next, on the line <literal>Insert Hostname [rbsensor]:</literal> type the name you want to give to the sensor. From now on, this is the name that will be displayed on the web when you access to the list of IPS sensors.</para>
            <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img031.png"/>
                </imageobject>
            <caption>
                <para>Assign a sensor name</para>
            </caption>
            </mediaobject>
            <note>
                <title>Note</title>
                <para>Remember to enter a consistent name for the sensor. Avoid using the name “Sensor”, as this is the generic name used by the Manager and could cause confusion in the long run.</para>
            </note>
            <warning>
                <title>Warning</title>
                <para>The system will ask you to verify that the chosen name is correct, in this case, press <keycap>Enter</keycap></para>
                <para>If you wish to modify it, insert the letter <keycap>n</keycap></para>
                <para>The system will proceed to change the name of the sensor. To continue, and return to the redborder system configuration menu, press any key as indicated <literal>Press a key to continue...</literal></para>
            </warning>	
        </section>		
        <section>
            <title>Local time configuration</title>
            <para>Select option <literal>2) Set local time.</literal></para>
            <para>Insert date and time of your country. </para>
            <para>The system indicates two possible formats for inserting the date and time:</para>
            <itemizedlist mark="bullet">
                <listitem>
                    <para><literal>[HH:mm]</literal> or <literal>[YYYY/MM/DD]</literal></para>
                </listitem>
                <listitem>
                    <para><literal> [YYYY/MM/DD HH:mm]</literal></para>
                </listitem>
            </itemizedlist>
            <para>Press <keycap>Enter</keycap> to continue with the registration process.</para>
            <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img032.png"/>
                </imageobject>
                <caption>
                <para>Sensor registration in the Manager: Select local time</para>
            </caption>
            </mediaobject>
        </section>
        <section>
            <title>Insert the Master Manager IP</title>
            <para>Select option <literal>3) IP adress for rB Master Manager [.*].</literal></para>
            <para>Insert the IP address or domain name of the computer used by the user. The system will perform a series of checks to verify if it is reachable. This process may take a few seconds.</para>
            <para>The system will synchronize the time of the computers and then restart a couple of services in order to finish the time synchronization.</para>
            <para> Congratulations! Your machine is ready to register the sensor in the Manager.</para>
            <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img033.png"/>
                </imageobject>
                <caption>
                <para>Insert Master Manager IP</para>
            </caption>
            </mediaobject>
            <para>To continue, and return to the redborder system configuration menu, press any key as indicated <literal>Press a key to continue...</literal></para>
        </section>
        <section>
            <title>Registration of the sensors in the Manager</title>
            <para>This is the last step to configure your redborder IPS/IDS sensor.</para>
            <para>From this moment on, you will be able to work directly from the IPS management application, in whose dashboard you will graphically view all the traffic events captured by the IPS sensors.</para>
            <para>In this application you can create reports, view events or configure the rules of the Manager among other actions.</para>
            <para><emphasis>Completing the sensor registration process in the Manager</emphasis></para>
            <para>The steps to follow to complete the sensor registration process in the Manager are as follows:</para>
            <orderedlist numeration="arabic">
                <listitem>
                    <para>Indicate if you want to have a debugging output: the system will ask the following question <literal>Would you like to have a debug output?</literal> Select default option (No) pressing the key <keycap>N</keycap>.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Insert password:</emphasis> indicate the password that has been entered in the basic settings phase for the configuration of the Manager.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Time synchronization (automatic) between the Manager and the sensors: </emphasis> this process may take a few seconds to complete.</para>
                </listitem>
                </orderedlist>
                <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img034.png"/>
                </imageobject>
            <caption>
                <para>Completing the registration of the sensors in the Manager</para>
            </caption>
            </mediaobject>
                <para>After completing these steps, the system will notify you with a message that the sensor has been successfully registered.</para>
                <para><literal>Sensor registered succesfully with chef server</literal></para>
                <mediaobject>
                    <imageobject>
                        <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img035.png"/>
                    </imageobject>
                <caption>
                    <para>Sensor registration on the server</para>
                </caption>
            </mediaobject>
            <warning>
                <title>Warning</title>
                <para>Do not change the sensor name or <emphasis>hostname</emphasis> once it has been registered. If you want to make changes, you will need to undo the entire registration process and start over.</para>
            </warning>
            <para>To continue and return to the redborder system configuration menu, press any key as indicated <literal>Press a key to continue...</literal></para>
            <para>In the sensor registration menu in the redborder Manager you can check that the sensor has been successfully registered:<literal>(Registered).</literal></para>
            <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img036.png"/>
                </imageobject>
                <caption>
                    <para>Sensor registration successful</para>
                </caption>
            </mediaobject>
            <para> To exit the sensor registration wizard, select option <literal>quit</literal> pressing <keycap>q</keycap>.</para>				
        </section>
    </section>
</chapter>		