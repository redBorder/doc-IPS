<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % BOOK_ENTITIES SYSTEM "manual.ent">
<!ENTITY PRODUCT "Documentation">
<!ENTITY BOOKID "manual">
<!ENTITY YEAR "2020">
<!ENTITY HOLDER "Eneo Tecnología S.L. |">
]>
<chapter>
	<title>Registering the redBorder Enterprise Edition IPS</title>
	<section>
		<title>Manager sensor registration</title>
		<para>To finish the installation process of the IPS/IDS sensors the last step consist in <emphasis role="bold">Manager sensors registration.</emphasis></para>
		<mediaobject>
			<imageobject>
				<imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img030.png"/>
			</imageobject>
			<caption>
				<para>Start of sensor registation process</para>
			</caption>
	    </mediaobject>	
		<para>In the sensor registration menu we can find the following options:</para>
		<orderedlist numeration="arabic">
			<listitem>
				<para><literal>Hostname [rbsensor]:</literal> assign a sensor name.</para>
			</listitem>
			<listitem>
				<para><literal>Set local time:</literal> configure local time.</para>
			</listitem>
			<listitem>
				<para><literal>IP adress for rB Master Manager [127.0.0.1]:</literal> introduce the Manager IP.</para>
			</listitem>
			<listitem>
				<para><literal>Register rB:</literal> register the sensor into the Manager.</para>
			</listitem>
		</orderedlist>
    
        <section>
            <title>Assign sensor name (Hostname)</title>
            <para> Select the option <literal>Hostname [rbsensor]</literal> from the registration menu pressing <keycap>1</keycap>.</para>
            <para> Next, on the line <literal>Insert Hostname [rbsensor]:</literal> type the name you which for your sensor. This name will be appear in the the web on the sensor list.</para>
            <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img031.png"/>
                </imageobject>
            <caption>
                <para>Assign sensor name</para>
            </caption>
            </mediaobject>
            <note>
                <title>Note</title>
                <para>Remember to use a good name and avoid generic names like “Sensor”.</para>
            </note>
            <warning>
                <title>Warning</title>
                <para>The system will ask you to  verify the sensor name, in that case press <keycap>Enter</keycap></para>
                <para>If you want to make a modification press <keycap>n</keycap></para>
                <para>The system will change the sensor name. To continue and go back the to the main systm menu press any key  <literal>Press a key to continue...</literal></para>
            </warning>	
        </section>		
        <section>
            <title>Local time configuration</title>
            <para>Select option <literal>2) Set local time.</literal></para>
            <para>Insert date and time of your country. </para>
            <para> The system will show the support format:</para>
            <itemizedlist mark="bullet">
                <listitem>
                    <para><literal>[HH:mm]</literal> ó <literal>[YYYY/MM/DD]</literal></para>
                </listitem>
                <listitem>
                    <para><literal> [YYYY/MM/DD HH:mm]</literal></para>
                </listitem>
            </itemizedlist>
            <para>Press <keycap>Enter</keycap> to continue with the registration process.</para>
            <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img032.png"/>
                </imageobject>
                <caption>
                <para>Sensor registration in the Manager: Select local time</para>
            </caption>
            </mediaobject>
        </section>
        <section>
            <title>Introduce Master Manager IP</title>
            <para>Select option <literal>3) IP adress for rB Master Manager [.*].</literal></para>
            <para>Type the IP address or domain name of the Manager. The system will check if the Manager can be reached. This process may take a few seconds.</para>
            <para>The system will sincronize the time of the machines and then it will reboot some time related services.</para>
            <para> Congratulations! Your machine is ready to make the registration with the Manager.</para>
            <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img033.png"/>
                </imageobject>
                <caption>
                <para>Introduce Master Manager IP</para>
            </caption>
            </mediaobject>
            <para>To continue and go back to the system configuration menu press any key <literal>Press a key to continue...</literal></para>
        </section>
        <section>
            <title>Sensor registration</title>
            <para>This is the last step to configure your redborder IPS/IDS sensor.</para>
            <para> From now on you will be able to manage your IPS/IDS sensor from the main application and visualize in a graphic way all the generated events using dashboards. </para>
            <para>With this application you will be able to create reports, visualize events and configure some rules to take actions. </para>
            <para><emphasis>Finish registration process in the Manager</emphasis></para>
            <para> To complete the registration process follow these steps:</para>
            <orderedlist numeration="arabic">
                <listitem>
                    <para>Show debug output: the system will ask <literal>Would you like to have a debug output?</literal> Select default option (No) pressing the key <keycap>N</keycap>.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Insert password:</emphasis> type the password that you use in the Manager basic configuration phase.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold">Temporal syncronization (automaticaly) between the Manager and its sensors:</emphasis> this process may take some seconds.</para>
                </listitem>
                </orderedlist>
                <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img034.png"/>
                </imageobject>
            <caption>
                <para>Finish sensor registration process</para>
            </caption>
            </mediaobject>
                <para>After these steps the system will show a successfully registation message.</para>
                <para><literal>Sensor registered succesfully with chef server</literal></para>
                <mediaobject>
                    <imageobject>
                        <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img035.png"/>
                    </imageobject>
                <caption>
                    <para>Sensor registrastion into the server</para>
                </caption>
            </mediaobject>
            <warning>
                <title>Warning</title>
                <para>Do not change the sensor name or <emphasis>hostname</emphasis> once is registered. If you want to make those changes you will need to undo the registration process and start over.</para>
            </warning>
            <para>To continue and go back to the system configuration menu press any key <literal>Press a key to continue...</literal></para>
            <para>In the sensor registration menu you can verify that the sensor was register successfully:<literal>(Registered).</literal></para>
            <mediaobject>
                <imageobject>
                    <imagedata scalefit="1" align="center" width="450" fileref="images/ch02_img036.png"/>
                </imageobject>
                <caption>
                    <para>Successful sensor registration</para>
                </caption>
            </mediaobject>
            <para> To exit, select option <literal>quit</literal> pressing <keycap>q.</keycap></para>				
        </section>
    </section>
</chapter>		